// // async functi
var result = {

    detail: [
        {
            title: "lorem1",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "twittwer",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "google",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        },
        {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        }, {
            title: "facebook",
            score: "orem ipsum dolor, sit amet consectetur adipisicing elit. Ipsa, sed eius consequuntur beatae asperiores deleniti commodi rem aliquam. Nam, beatae.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quos natus voluptates ipsa eos sapiente officia repellendus ducimus. Aliquam veniam deleniti doloribus nobis aliquid rem suscipit repellat. Dolorum rem aspernatur similique!",
            link: "https://www.youtube.com/"
        },
    ]

}

// fetch("http://127.0.0.1:8000/docs#/default", {
//     headers: {

//     }
// })
// const api_url = 'http://127.0.0.1:8000/articles?name=twitter';
// async function getUser() {

//     let select = document.getElementsByClassName('c-services');
//     writehtml(data);

//     async function writehtml(object) {


//         // Making an API call (request)
//         // and getting the response back
//         const response = await fetch(api_url);

//         // Parsing it to JSON format
//         const data = await response.json();



//     }

//     // console.log(data.score);






// }

// // Calling the function
// getUser();
// console.log("hi");

// fetch("http://127.0.0.1:8000/articles?name=twitter", { mode: "no-cors" }).then(res => res.json()).then(data => { console.log(data).catch(err => console.log(err)) })
// fetch("http://127.0.0.1:8000/articles?name=twitter", { mode: 'no-cors' })
//     .then(res => res.json())
//     .then(data => {
//         console.log(data);
//         console.log("hi");
//     }).catch(err => { console.log(err) });
// const res = fetch()
// fetch("http://127.0.0.1:8000/articles?name=apple", { mode: "no-cors" })
//   .then((response) => response.json())
//   .then((data) => {
//     console.log(data);
//   });
var result;
axios.defaults.proxy = {
    host: "http://127.0.0.1:8000",
    protocol: "http",
};
// let resp = global1(result);

async function makeGetRequest(path) {
    await axios.get(path).then(
        (response) => {
            result = response.data;

            console.log(result);
        },



        (error) => {
            console.log(error);
        }
    )
    console.log(result);
    display_data(result);


}

// function global1(prop1){
//     return prop1;

// // }
makeGetRequest("http://127.0.0.1:8000/articles?name=paypal");

// console.log(result.detail);


function display_data(result) {
    document.querySelector('.c-services').innerHTML = '';
    const length = result["detail"].reduce((a, obj) => a + Object.keys(obj).length, 0);
    // console.log(result[0])

    for (let i = 0; i < length; i++) {
        document.querySelector('.c-services').innerHTML += `

    <a class="c-services__item" href="${result["detail"][i].link}">


<li ">
<h3>${result["detail"][i]["title"]}</h3>
<p>${result["detail"][i]["score"]}
</p>
</li></a>`

    }
}




// data = fetch("http://127.0.0.1:8000/docs#/default")
    // else {
    //     document.querySelector('.c-services').innerHTML = '';
    //     document.querySelector('.c-services').innerHTML += `<h1 class="c-services__item">There was an error loading your result</h1>`

    // }





